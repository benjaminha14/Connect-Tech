{"ast":null,"code":"!function (t, i) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = i() : \"function\" == typeof define && define.amd ? define(\"nipplejs\", [], i) : \"object\" == typeof exports ? exports.nipplejs = i() : t.nipplejs = i();\n}(window, function () {\n  return function (t) {\n    var i = {};\n\n    function e(o) {\n      if (i[o]) return i[o].exports;\n      var n = i[o] = {\n        i: o,\n        l: !1,\n        exports: {}\n      };\n      return t[o].call(n.exports, n, n.exports, e), n.l = !0, n.exports;\n    }\n\n    return e.m = t, e.c = i, e.d = function (t, i, o) {\n      e.o(t, i) || Object.defineProperty(t, i, {\n        enumerable: !0,\n        get: o\n      });\n    }, e.r = function (t) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n    }, e.t = function (t, i) {\n      if (1 & i && (t = e(t)), 8 & i) return t;\n      if (4 & i && \"object\" == typeof t && t && t.__esModule) return t;\n      var o = Object.create(null);\n      if (e.r(o), Object.defineProperty(o, \"default\", {\n        enumerable: !0,\n        value: t\n      }), 2 & i && \"string\" != typeof t) for (var n in t) e.d(o, n, function (i) {\n        return t[i];\n      }.bind(null, n));\n      return o;\n    }, e.n = function (t) {\n      var i = t && t.__esModule ? function () {\n        return t.default;\n      } : function () {\n        return t;\n      };\n      return e.d(i, \"a\", i), i;\n    }, e.o = function (t, i) {\n      return Object.prototype.hasOwnProperty.call(t, i);\n    }, e.p = \"\", e(e.s = 0);\n  }([function (t, i, e) {\n    \"use strict\";\n\n    e.r(i);\n\n    var o,\n        n = function (t, i) {\n      var e = i.x - t.x,\n          o = i.y - t.y;\n      return Math.sqrt(e * e + o * o);\n    },\n        s = function (t) {\n      return t * (Math.PI / 180);\n    },\n        r = function (t) {\n      return t * (180 / Math.PI);\n    },\n        d = function (t, i, e) {\n      for (var o, n = i.split(/[ ,]+/g), s = 0; s < n.length; s += 1) o = n[s], t.addEventListener ? t.addEventListener(o, e, !1) : t.attachEvent && t.attachEvent(o, e);\n    },\n        a = function (t, i, e) {\n      for (var o, n = i.split(/[ ,]+/g), s = 0; s < n.length; s += 1) o = n[s], t.removeEventListener ? t.removeEventListener(o, e) : t.detachEvent && t.detachEvent(o, e);\n    },\n        p = function (t) {\n      return t.preventDefault(), t.type.match(/^touch/) ? t.changedTouches : t;\n    },\n        c = function () {\n      return {\n        x: void 0 !== window.pageXOffset ? window.pageXOffset : (document.documentElement || document.body.parentNode || document.body).scrollLeft,\n        y: void 0 !== window.pageYOffset ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop\n      };\n    },\n        h = function (t, i) {\n      i.top || i.right || i.bottom || i.left ? (t.style.top = i.top, t.style.right = i.right, t.style.bottom = i.bottom, t.style.left = i.left) : (t.style.left = i.x + \"px\", t.style.top = i.y + \"px\");\n    },\n        l = function (t, i, e) {\n      var o = u(t);\n\n      for (var n in o) if (o.hasOwnProperty(n)) if (\"string\" == typeof i) o[n] = i + \" \" + e;else {\n        for (var s = \"\", r = 0, d = i.length; r < d; r += 1) s += i[r] + \" \" + e + \", \";\n\n        o[n] = s.slice(0, -2);\n      }\n\n      return o;\n    },\n        u = function (t) {\n      var i = {};\n      i[t] = \"\";\n      return [\"webkit\", \"Moz\", \"o\"].forEach(function (e) {\n        i[e + t.charAt(0).toUpperCase() + t.slice(1)] = \"\";\n      }), i;\n    },\n        f = function (t, i) {\n      for (var e in i) i.hasOwnProperty(e) && (t[e] = i[e]);\n\n      return t;\n    },\n        y = function (t, i) {\n      if (t.length) for (var e = 0, o = t.length; e < o; e += 1) i(t[e]);else i(t);\n    },\n        m = !!(\"ontouchstart\" in window),\n        v = !!window.PointerEvent,\n        g = !!window.MSPointerEvent,\n        b = {\n      start: \"mousedown\",\n      move: \"mousemove\",\n      end: \"mouseup\"\n    },\n        x = {};\n\n    function O() {}\n\n    v ? o = {\n      start: \"pointerdown\",\n      move: \"pointermove\",\n      end: \"pointerup, pointercancel\"\n    } : g ? o = {\n      start: \"MSPointerDown\",\n      move: \"MSPointerMove\",\n      end: \"MSPointerUp\"\n    } : m ? (o = {\n      start: \"touchstart\",\n      move: \"touchmove\",\n      end: \"touchend, touchcancel\"\n    }, x = b) : o = b, O.prototype.on = function (t, i) {\n      var e,\n          o = t.split(/[ ,]+/g);\n      this._handlers_ = this._handlers_ || {};\n\n      for (var n = 0; n < o.length; n += 1) e = o[n], this._handlers_[e] = this._handlers_[e] || [], this._handlers_[e].push(i);\n\n      return this;\n    }, O.prototype.off = function (t, i) {\n      return this._handlers_ = this._handlers_ || {}, void 0 === t ? this._handlers_ = {} : void 0 === i ? this._handlers_[t] = null : this._handlers_[t] && this._handlers_[t].indexOf(i) >= 0 && this._handlers_[t].splice(this._handlers_[t].indexOf(i), 1), this;\n    }, O.prototype.trigger = function (t, i) {\n      var e,\n          o = this,\n          n = t.split(/[ ,]+/g);\n      o._handlers_ = o._handlers_ || {};\n\n      for (var s = 0; s < n.length; s += 1) e = n[s], o._handlers_[e] && o._handlers_[e].length && o._handlers_[e].forEach(function (t) {\n        t.call(o, {\n          type: e,\n          target: o\n        }, i);\n      });\n    }, O.prototype.config = function (t) {\n      this.options = this.defaults || {}, t && (this.options = function (t, i) {\n        var e = {};\n\n        for (var o in t) t.hasOwnProperty(o) && i.hasOwnProperty(o) ? e[o] = i[o] : t.hasOwnProperty(o) && (e[o] = t[o]);\n\n        return e;\n      }(this.options, t));\n    }, O.prototype.bindEvt = function (t, i) {\n      var e = this;\n      return e._domHandlers_ = e._domHandlers_ || {}, e._domHandlers_[i] = function () {\n        \"function\" == typeof e[\"on\" + i] ? e[\"on\" + i].apply(e, arguments) : console.warn('[WARNING] : Missing \"on' + i + '\" handler.');\n      }, d(t, o[i], e._domHandlers_[i]), x[i] && d(t, x[i], e._domHandlers_[i]), e;\n    }, O.prototype.unbindEvt = function (t, i) {\n      return this._domHandlers_ = this._domHandlers_ || {}, a(t, o[i], this._domHandlers_[i]), x[i] && a(t, x[i], this._domHandlers_[i]), delete this._domHandlers_[i], this;\n    };\n    var _ = O;\n\n    function w(t, i) {\n      return this.identifier = i.identifier, this.position = i.position, this.frontPosition = i.frontPosition, this.collection = t, this.defaults = {\n        size: 100,\n        threshold: .1,\n        color: \"white\",\n        fadeTime: 250,\n        dataOnly: !1,\n        restJoystick: !0,\n        restOpacity: .5,\n        mode: \"dynamic\",\n        zone: document.body,\n        lockX: !1,\n        lockY: !1,\n        shape: \"circle\"\n      }, this.config(i), \"dynamic\" === this.options.mode && (this.options.restOpacity = 0), this.id = w.id, w.id += 1, this.buildEl().stylize(), this.instance = {\n        el: this.ui.el,\n        on: this.on.bind(this),\n        off: this.off.bind(this),\n        show: this.show.bind(this),\n        hide: this.hide.bind(this),\n        add: this.addToDom.bind(this),\n        remove: this.removeFromDom.bind(this),\n        destroy: this.destroy.bind(this),\n        setPosition: this.setPosition.bind(this),\n        resetDirection: this.resetDirection.bind(this),\n        computeDirection: this.computeDirection.bind(this),\n        trigger: this.trigger.bind(this),\n        position: this.position,\n        frontPosition: this.frontPosition,\n        ui: this.ui,\n        identifier: this.identifier,\n        id: this.id,\n        options: this.options\n      }, this.instance;\n    }\n\n    w.prototype = new _(), w.constructor = w, w.id = 0, w.prototype.buildEl = function (t) {\n      return this.ui = {}, this.options.dataOnly ? this : (this.ui.el = document.createElement(\"div\"), this.ui.back = document.createElement(\"div\"), this.ui.front = document.createElement(\"div\"), this.ui.el.className = \"nipple collection_\" + this.collection.id, this.ui.back.className = \"back\", this.ui.front.className = \"front\", this.ui.el.setAttribute(\"id\", \"nipple_\" + this.collection.id + \"_\" + this.id), this.ui.el.appendChild(this.ui.back), this.ui.el.appendChild(this.ui.front), this);\n    }, w.prototype.stylize = function () {\n      if (this.options.dataOnly) return this;\n\n      var t = this.options.fadeTime + \"ms\",\n          i = function (t, i) {\n        var e = u(t);\n\n        for (var o in e) e.hasOwnProperty(o) && (e[o] = i);\n\n        return e;\n      }(\"borderRadius\", \"50%\"),\n          e = l(\"transition\", \"opacity\", t),\n          o = {};\n\n      return o.el = {\n        position: \"absolute\",\n        opacity: this.options.restOpacity,\n        display: \"block\",\n        zIndex: 999\n      }, o.back = {\n        position: \"absolute\",\n        display: \"block\",\n        width: this.options.size + \"px\",\n        height: this.options.size + \"px\",\n        marginLeft: -this.options.size / 2 + \"px\",\n        marginTop: -this.options.size / 2 + \"px\",\n        background: this.options.color,\n        opacity: \".5\"\n      }, o.front = {\n        width: this.options.size / 2 + \"px\",\n        height: this.options.size / 2 + \"px\",\n        position: \"absolute\",\n        display: \"block\",\n        marginLeft: -this.options.size / 4 + \"px\",\n        marginTop: -this.options.size / 4 + \"px\",\n        background: this.options.color,\n        opacity: \".5\"\n      }, f(o.el, e), \"circle\" === this.options.shape && f(o.back, i), f(o.front, i), this.applyStyles(o), this;\n    }, w.prototype.applyStyles = function (t) {\n      for (var i in this.ui) if (this.ui.hasOwnProperty(i)) for (var e in t[i]) this.ui[i].style[e] = t[i][e];\n\n      return this;\n    }, w.prototype.addToDom = function () {\n      return this.options.dataOnly || document.body.contains(this.ui.el) ? this : (this.options.zone.appendChild(this.ui.el), this);\n    }, w.prototype.removeFromDom = function () {\n      return this.options.dataOnly || !document.body.contains(this.ui.el) ? this : (this.options.zone.removeChild(this.ui.el), this);\n    }, w.prototype.destroy = function () {\n      clearTimeout(this.removeTimeout), clearTimeout(this.showTimeout), clearTimeout(this.restTimeout), this.trigger(\"destroyed\", this.instance), this.removeFromDom(), this.off();\n    }, w.prototype.show = function (t) {\n      var i = this;\n      return i.options.dataOnly ? i : (clearTimeout(i.removeTimeout), clearTimeout(i.showTimeout), clearTimeout(i.restTimeout), i.addToDom(), i.restCallback(), setTimeout(function () {\n        i.ui.el.style.opacity = 1;\n      }, 0), i.showTimeout = setTimeout(function () {\n        i.trigger(\"shown\", i.instance), \"function\" == typeof t && t.call(this);\n      }, i.options.fadeTime), i);\n    }, w.prototype.hide = function (t) {\n      var i = this;\n      return i.options.dataOnly ? i : (i.ui.el.style.opacity = i.options.restOpacity, clearTimeout(i.removeTimeout), clearTimeout(i.showTimeout), clearTimeout(i.restTimeout), i.removeTimeout = setTimeout(function () {\n        var e = \"dynamic\" === i.options.mode ? \"none\" : \"block\";\n        i.ui.el.style.display = e, \"function\" == typeof t && t.call(i), i.trigger(\"hidden\", i.instance);\n      }, i.options.fadeTime), i.options.restJoystick && i.setPosition(t, {\n        x: 0,\n        y: 0\n      }), i);\n    }, w.prototype.setPosition = function (t, i) {\n      var e = this;\n      e.frontPosition = {\n        x: i.x,\n        y: i.y\n      };\n      var o = e.options.fadeTime + \"ms\",\n          n = {};\n      n.front = l(\"transition\", [\"top\", \"left\"], o);\n      var s = {\n        front: {}\n      };\n      s.front = {\n        left: e.frontPosition.x + \"px\",\n        top: e.frontPosition.y + \"px\"\n      }, e.applyStyles(n), e.applyStyles(s), e.restTimeout = setTimeout(function () {\n        \"function\" == typeof t && t.call(e), e.restCallback();\n      }, e.options.fadeTime);\n    }, w.prototype.restCallback = function () {\n      var t = {};\n      t.front = l(\"transition\", \"none\", \"\"), this.applyStyles(t), this.trigger(\"rested\", this.instance);\n    }, w.prototype.resetDirection = function () {\n      this.direction = {\n        x: !1,\n        y: !1,\n        angle: !1\n      };\n    }, w.prototype.computeDirection = function (t) {\n      var i,\n          e,\n          o,\n          n = t.angle.radian,\n          s = Math.PI / 4,\n          r = Math.PI / 2;\n\n      if (n > s && n < 3 * s && !t.lockX ? i = \"up\" : n > -s && n <= s && !t.lockY ? i = \"left\" : n > 3 * -s && n <= -s && !t.lockX ? i = \"down\" : t.lockY || (i = \"right\"), t.lockY || (e = n > -r && n < r ? \"left\" : \"right\"), t.lockX || (o = n > 0 ? \"up\" : \"down\"), t.force > this.options.threshold) {\n        var d,\n            a = {};\n\n        for (d in this.direction) this.direction.hasOwnProperty(d) && (a[d] = this.direction[d]);\n\n        var p = {};\n\n        for (d in this.direction = {\n          x: e,\n          y: o,\n          angle: i\n        }, t.direction = this.direction, a) a[d] === this.direction[d] && (p[d] = !0);\n\n        if (p.x && p.y && p.angle) return t;\n        p.x && p.y || this.trigger(\"plain\", t), p.x || this.trigger(\"plain:\" + e, t), p.y || this.trigger(\"plain:\" + o, t), p.angle || this.trigger(\"dir dir:\" + i, t);\n      } else this.resetDirection();\n\n      return t;\n    };\n    var T = w;\n\n    function k(t, i) {\n      return this.nipples = [], this.idles = [], this.actives = [], this.ids = [], this.pressureIntervals = {}, this.manager = t, this.id = k.id, k.id += 1, this.defaults = {\n        zone: document.body,\n        multitouch: !1,\n        maxNumberOfNipples: 10,\n        mode: \"dynamic\",\n        position: {\n          top: 0,\n          left: 0\n        },\n        catchDistance: 200,\n        size: 100,\n        threshold: .1,\n        color: \"white\",\n        fadeTime: 250,\n        dataOnly: !1,\n        restJoystick: !0,\n        restOpacity: .5,\n        lockX: !1,\n        lockY: !1,\n        shape: \"circle\",\n        dynamicPage: !1\n      }, this.config(i), \"static\" !== this.options.mode && \"semi\" !== this.options.mode || (this.options.multitouch = !1), this.options.multitouch || (this.options.maxNumberOfNipples = 1), this.updateBox(), this.prepareNipples(), this.bindings(), this.begin(), this.nipples;\n    }\n\n    k.prototype = new _(), k.constructor = k, k.id = 0, k.prototype.prepareNipples = function () {\n      var t = this.nipples;\n      t.on = this.on.bind(this), t.off = this.off.bind(this), t.options = this.options, t.destroy = this.destroy.bind(this), t.ids = this.ids, t.id = this.id, t.processOnMove = this.processOnMove.bind(this), t.processOnEnd = this.processOnEnd.bind(this), t.get = function (i) {\n        if (void 0 === i) return t[0];\n\n        for (var e = 0, o = t.length; e < o; e += 1) if (t[e].identifier === i) return t[e];\n\n        return !1;\n      };\n    }, k.prototype.bindings = function () {\n      this.bindEvt(this.options.zone, \"start\"), this.options.zone.style.touchAction = \"none\", this.options.zone.style.msTouchAction = \"none\";\n    }, k.prototype.begin = function () {\n      var t = this.options;\n\n      if (\"static\" === t.mode) {\n        var i = this.createNipple(t.position, this.manager.getIdentifier());\n        i.add(), this.idles.push(i);\n      }\n    }, k.prototype.createNipple = function (t, i) {\n      var e = c(),\n          o = {},\n          n = this.options;\n      if (t.x && t.y) o = {\n        x: t.x - (e.x + this.box.left),\n        y: t.y - (e.y + this.box.top)\n      };else if (t.top || t.right || t.bottom || t.left) {\n        var s = document.createElement(\"DIV\");\n        s.style.display = \"hidden\", s.style.top = t.top, s.style.right = t.right, s.style.bottom = t.bottom, s.style.left = t.left, s.style.position = \"absolute\", n.zone.appendChild(s);\n        var r = s.getBoundingClientRect();\n        n.zone.removeChild(s), o = t, t = {\n          x: r.left + e.x,\n          y: r.top + e.y\n        };\n      }\n      var d = new T(this, {\n        color: n.color,\n        size: n.size,\n        threshold: n.threshold,\n        fadeTime: n.fadeTime,\n        dataOnly: n.dataOnly,\n        restJoystick: n.restJoystick,\n        restOpacity: n.restOpacity,\n        mode: n.mode,\n        identifier: i,\n        position: t,\n        zone: n.zone,\n        frontPosition: {\n          x: 0,\n          y: 0\n        },\n        shape: n.shape\n      });\n      return n.dataOnly || (h(d.ui.el, o), h(d.ui.front, d.frontPosition)), this.nipples.push(d), this.trigger(\"added \" + d.identifier + \":added\", d), this.manager.trigger(\"added \" + d.identifier + \":added\", d), this.bindNipple(d), d;\n    }, k.prototype.updateBox = function () {\n      this.box = this.options.zone.getBoundingClientRect();\n    }, k.prototype.bindNipple = function (t) {\n      var i,\n          e = this,\n          o = function (t, o) {\n        i = t.type + \" \" + o.id + \":\" + t.type, e.trigger(i, o);\n      };\n\n      t.on(\"destroyed\", e.onDestroyed.bind(e)), t.on(\"shown hidden rested dir plain\", o), t.on(\"dir:up dir:right dir:down dir:left\", o), t.on(\"plain:up plain:right plain:down plain:left\", o);\n    }, k.prototype.pressureFn = function (t, i, e) {\n      var o = this,\n          n = 0;\n      clearInterval(o.pressureIntervals[e]), o.pressureIntervals[e] = setInterval(function () {\n        var e = t.force || t.pressure || t.webkitForce || 0;\n        e !== n && (i.trigger(\"pressure\", e), o.trigger(\"pressure \" + i.identifier + \":pressure\", e), n = e);\n      }.bind(o), 100);\n    }, k.prototype.onstart = function (t) {\n      var i = this,\n          e = i.options,\n          o = t;\n      t = p(t), i.updateBox();\n      return y(t, function (n) {\n        i.actives.length < e.maxNumberOfNipples ? i.processOnStart(n) : o.type.match(/^touch/) && (Object.keys(i.manager.ids).forEach(function (e) {\n          if (Object.values(o.touches).findIndex(function (t) {\n            return t.identifier === e;\n          }) < 0) {\n            var n = [t[0]];\n            n.identifier = e, i.processOnEnd(n);\n          }\n        }), i.actives.length < e.maxNumberOfNipples && i.processOnStart(n));\n      }), i.manager.bindDocument(), !1;\n    }, k.prototype.processOnStart = function (t) {\n      var i,\n          e = this,\n          o = e.options,\n          s = e.manager.getIdentifier(t),\n          r = t.force || t.pressure || t.webkitForce || 0,\n          d = {\n        x: t.pageX,\n        y: t.pageY\n      },\n          a = e.getOrCreate(s, d);\n      a.identifier !== s && e.manager.removeIdentifier(a.identifier), a.identifier = s;\n\n      var p = function (i) {\n        i.trigger(\"start\", i), e.trigger(\"start \" + i.id + \":start\", i), i.show(), r > 0 && e.pressureFn(t, i, i.identifier), e.processOnMove(t);\n      };\n\n      if ((i = e.idles.indexOf(a)) >= 0 && e.idles.splice(i, 1), e.actives.push(a), e.ids.push(a.identifier), \"semi\" !== o.mode) p(a);else {\n        if (!(n(d, a.position) <= o.catchDistance)) return a.destroy(), void e.processOnStart(t);\n        p(a);\n      }\n      return a;\n    }, k.prototype.getOrCreate = function (t, i) {\n      var e,\n          o = this.options;\n      return /(semi|static)/.test(o.mode) ? (e = this.idles[0]) ? (this.idles.splice(0, 1), e) : \"semi\" === o.mode ? this.createNipple(i, t) : (console.warn(\"Coudln't find the needed nipple.\"), !1) : e = this.createNipple(i, t);\n    }, k.prototype.processOnMove = function (t) {\n      var i = this.options,\n          e = this.manager.getIdentifier(t),\n          o = this.nipples.get(e);\n\n      if (function (t) {\n        return isNaN(t.buttons) ? 0 !== t.pressure : 0 !== t.buttons;\n      }(t)) {\n        if (!o) return console.error(\"Found zombie joystick with ID \" + e), void this.manager.removeIdentifier(e);\n\n        if (i.dynamicPage) {\n          var d = c();\n          p = o.el.getBoundingClientRect(), o.position = {\n            x: d.x + p.left,\n            y: d.y + p.top\n          };\n        }\n\n        o.identifier = e;\n        var a = o.options.size / 2,\n            p = {\n          x: t.pageX,\n          y: t.pageY\n        };\n        i.lockX && (p.y = o.position.y), i.lockY && (p.x = o.position.x);\n\n        var l,\n            u,\n            f,\n            y,\n            m,\n            v,\n            g,\n            b,\n            x = n(p, o.position),\n            O = (l = p, u = o.position, f = u.x - l.x, y = u.y - l.y, r(Math.atan2(y, f))),\n            _ = s(O),\n            w = x / a,\n            T = {\n          distance: x,\n          position: p\n        };\n\n        \"circle\" === o.options.shape ? (x = Math.min(x, a), m = o.position, v = x, b = {\n          x: 0,\n          y: 0\n        }, g = s(g = O), b.x = m.x - v * Math.cos(g), b.y = m.y - v * Math.sin(g), p = b) : (p = function (t, i, e) {\n          return {\n            x: Math.min(Math.max(t.x, i.x - e), i.x + e),\n            y: Math.min(Math.max(t.y, i.y - e), i.y + e)\n          };\n        }(p, o.position, a), x = n(p, o.position));\n        var k = p.x - o.position.x,\n            P = p.y - o.position.y;\n        o.frontPosition = {\n          x: k,\n          y: P\n        }, i.dataOnly || h(o.ui.front, o.frontPosition);\n        var E = {\n          identifier: o.identifier,\n          position: p,\n          force: w,\n          pressure: t.force || t.pressure || t.webkitForce || 0,\n          distance: x,\n          angle: {\n            radian: _,\n            degree: O\n          },\n          vector: {\n            x: k / a,\n            y: -P / a\n          },\n          raw: T,\n          instance: o,\n          lockX: i.lockX,\n          lockY: i.lockY\n        };\n        (E = o.computeDirection(E)).angle = {\n          radian: s(180 - O),\n          degree: 180 - O\n        }, o.trigger(\"move\", E), this.trigger(\"move \" + o.id + \":move\", E);\n      } else this.processOnEnd(t);\n    }, k.prototype.processOnEnd = function (t) {\n      var i = this,\n          e = i.options,\n          o = i.manager.getIdentifier(t),\n          n = i.nipples.get(o),\n          s = i.manager.removeIdentifier(n.identifier);\n      n && (e.dataOnly || n.hide(function () {\n        \"dynamic\" === e.mode && (n.trigger(\"removed\", n), i.trigger(\"removed \" + n.id + \":removed\", n), i.manager.trigger(\"removed \" + n.id + \":removed\", n), n.destroy());\n      }), clearInterval(i.pressureIntervals[n.identifier]), n.resetDirection(), n.trigger(\"end\", n), i.trigger(\"end \" + n.id + \":end\", n), i.ids.indexOf(n.identifier) >= 0 && i.ids.splice(i.ids.indexOf(n.identifier), 1), i.actives.indexOf(n) >= 0 && i.actives.splice(i.actives.indexOf(n), 1), /(semi|static)/.test(e.mode) ? i.idles.push(n) : i.nipples.indexOf(n) >= 0 && i.nipples.splice(i.nipples.indexOf(n), 1), i.manager.unbindDocument(), /(semi|static)/.test(e.mode) && (i.manager.ids[s.id] = s.identifier));\n    }, k.prototype.onDestroyed = function (t, i) {\n      this.nipples.indexOf(i) >= 0 && this.nipples.splice(this.nipples.indexOf(i), 1), this.actives.indexOf(i) >= 0 && this.actives.splice(this.actives.indexOf(i), 1), this.idles.indexOf(i) >= 0 && this.idles.splice(this.idles.indexOf(i), 1), this.ids.indexOf(i.identifier) >= 0 && this.ids.splice(this.ids.indexOf(i.identifier), 1), this.manager.removeIdentifier(i.identifier), this.manager.unbindDocument();\n    }, k.prototype.destroy = function () {\n      for (var t in this.unbindEvt(this.options.zone, \"start\"), this.nipples.forEach(function (t) {\n        t.destroy();\n      }), this.pressureIntervals) this.pressureIntervals.hasOwnProperty(t) && clearInterval(this.pressureIntervals[t]);\n\n      this.trigger(\"destroyed\", this.nipples), this.manager.unbindDocument(), this.off();\n    };\n    var P = k;\n\n    function E(t) {\n      var i,\n          e = this;\n      return e.ids = {}, e.index = 0, e.collections = [], e.config(t), e.prepareCollections(), d(window, \"resize\", function (t) {\n        clearTimeout(i), i = setTimeout(function () {\n          var t,\n              i = c();\n          e.collections.forEach(function (e) {\n            e.forEach(function (e) {\n              t = e.el.getBoundingClientRect(), e.position = {\n                x: i.x + t.left,\n                y: i.y + t.top\n              };\n            });\n          });\n        }, 100);\n      }), e.collections;\n    }\n\n    E.prototype = new _(), E.constructor = E, E.prototype.prepareCollections = function () {\n      var t = this;\n      t.collections.create = t.create.bind(t), t.collections.on = t.on.bind(t), t.collections.off = t.off.bind(t), t.collections.destroy = t.destroy.bind(t), t.collections.get = function (i) {\n        var e;\n        return t.collections.every(function (t) {\n          return !(e = t.get(i));\n        }), e;\n      };\n    }, E.prototype.create = function (t) {\n      return this.createCollection(t);\n    }, E.prototype.createCollection = function (t) {\n      var i = new P(this, t);\n      return this.bindCollection(i), this.collections.push(i), i;\n    }, E.prototype.bindCollection = function (t) {\n      var i,\n          e = this,\n          o = function (t, o) {\n        i = t.type + \" \" + o.id + \":\" + t.type, e.trigger(i, o);\n      };\n\n      t.on(\"destroyed\", e.onDestroyed.bind(e)), t.on(\"shown hidden rested dir plain\", o), t.on(\"dir:up dir:right dir:down dir:left\", o), t.on(\"plain:up plain:right plain:down plain:left\", o);\n    }, E.prototype.bindDocument = function () {\n      this.binded || (this.bindEvt(document, \"move\").bindEvt(document, \"end\"), this.binded = !0);\n    }, E.prototype.unbindDocument = function (t) {\n      Object.keys(this.ids).length && !0 !== t || (this.unbindEvt(document, \"move\").unbindEvt(document, \"end\"), this.binded = !1);\n    }, E.prototype.getIdentifier = function (t) {\n      var i;\n      return t ? void 0 === (i = void 0 === t.identifier ? t.pointerId : t.identifier) && (i = this.latest || 0) : i = this.index, void 0 === this.ids[i] && (this.ids[i] = this.index, this.index += 1), this.latest = i, this.ids[i];\n    }, E.prototype.removeIdentifier = function (t) {\n      var i = {};\n\n      for (var e in this.ids) if (this.ids[e] === t) {\n        i.id = e, i.identifier = this.ids[e], delete this.ids[e];\n        break;\n      }\n\n      return i;\n    }, E.prototype.onmove = function (t) {\n      return this.onAny(\"move\", t), !1;\n    }, E.prototype.onend = function (t) {\n      return this.onAny(\"end\", t), !1;\n    }, E.prototype.oncancel = function (t) {\n      return this.onAny(\"end\", t), !1;\n    }, E.prototype.onAny = function (t, i) {\n      var e,\n          o = this,\n          n = \"processOn\" + t.charAt(0).toUpperCase() + t.slice(1);\n      i = p(i);\n      return y(i, function (t) {\n        e = o.getIdentifier(t), y(o.collections, function (t, i, e) {\n          e.ids.indexOf(i) >= 0 && (e[n](t), t._found_ = !0);\n        }.bind(null, t, e)), t._found_ || o.removeIdentifier(e);\n      }), !1;\n    }, E.prototype.destroy = function () {\n      this.unbindDocument(!0), this.ids = {}, this.index = 0, this.collections.forEach(function (t) {\n        t.destroy();\n      }), this.off();\n    }, E.prototype.onDestroyed = function (t, i) {\n      if (this.collections.indexOf(i) < 0) return !1;\n      this.collections.splice(this.collections.indexOf(i), 1);\n    };\n    var I = new E();\n    i.default = {\n      create: function (t) {\n        return I.create(t);\n      },\n      factory: I\n    };\n  }]).default;\n});","map":{"version":3,"sources":["/Users/benjaminha/Documents/Connect-Tech/node_modules/nipplejs/dist/nipplejs.js"],"names":["t","i","exports","module","define","amd","nipplejs","window","e","o","n","l","call","m","c","d","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","x","y","Math","sqrt","PI","split","length","addEventListener","attachEvent","a","removeEventListener","detachEvent","preventDefault","type","match","changedTouches","pageXOffset","document","documentElement","body","parentNode","scrollLeft","pageYOffset","scrollTop","h","top","right","bottom","left","style","u","slice","forEach","charAt","toUpperCase","f","v","PointerEvent","g","MSPointerEvent","b","start","move","end","O","on","_handlers_","push","off","indexOf","splice","trigger","target","config","options","defaults","bindEvt","_domHandlers_","apply","arguments","console","warn","unbindEvt","_","w","identifier","position","frontPosition","collection","size","threshold","color","fadeTime","dataOnly","restJoystick","restOpacity","mode","zone","lockX","lockY","shape","id","buildEl","stylize","instance","el","ui","show","hide","add","addToDom","remove","removeFromDom","destroy","setPosition","resetDirection","computeDirection","constructor","createElement","back","front","className","setAttribute","appendChild","opacity","display","zIndex","width","height","marginLeft","marginTop","background","applyStyles","contains","removeChild","clearTimeout","removeTimeout","showTimeout","restTimeout","restCallback","setTimeout","direction","angle","radian","force","T","k","nipples","idles","actives","ids","pressureIntervals","manager","multitouch","maxNumberOfNipples","catchDistance","dynamicPage","updateBox","prepareNipples","bindings","begin","processOnMove","processOnEnd","touchAction","msTouchAction","createNipple","getIdentifier","box","getBoundingClientRect","bindNipple","onDestroyed","pressureFn","clearInterval","setInterval","pressure","webkitForce","onstart","processOnStart","keys","values","touches","findIndex","bindDocument","pageX","pageY","getOrCreate","removeIdentifier","test","isNaN","buttons","error","atan2","distance","min","cos","sin","max","P","E","degree","vector","raw","unbindDocument","index","collections","prepareCollections","every","createCollection","bindCollection","binded","pointerId","latest","onmove","onAny","onend","oncancel","_found_","I","factory"],"mappings":"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","sourcesContent":["!function(t,i){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(\"nipplejs\",[],i):\"object\"==typeof exports?exports.nipplejs=i():t.nipplejs=i()}(window,function(){return function(t){var i={};function e(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:o})},e.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&i&&\"string\"!=typeof t)for(var n in t)e.d(o,n,function(i){return t[i]}.bind(null,n));return o},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,\"a\",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p=\"\",e(e.s=0)}([function(t,i,e){\"use strict\";e.r(i);var o,n=function(t,i){var e=i.x-t.x,o=i.y-t.y;return Math.sqrt(e*e+o*o)},s=function(t){return t*(Math.PI/180)},r=function(t){return t*(180/Math.PI)},d=function(t,i,e){for(var o,n=i.split(/[ ,]+/g),s=0;s<n.length;s+=1)o=n[s],t.addEventListener?t.addEventListener(o,e,!1):t.attachEvent&&t.attachEvent(o,e)},a=function(t,i,e){for(var o,n=i.split(/[ ,]+/g),s=0;s<n.length;s+=1)o=n[s],t.removeEventListener?t.removeEventListener(o,e):t.detachEvent&&t.detachEvent(o,e)},p=function(t){return t.preventDefault(),t.type.match(/^touch/)?t.changedTouches:t},c=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},h=function(t,i){i.top||i.right||i.bottom||i.left?(t.style.top=i.top,t.style.right=i.right,t.style.bottom=i.bottom,t.style.left=i.left):(t.style.left=i.x+\"px\",t.style.top=i.y+\"px\")},l=function(t,i,e){var o=u(t);for(var n in o)if(o.hasOwnProperty(n))if(\"string\"==typeof i)o[n]=i+\" \"+e;else{for(var s=\"\",r=0,d=i.length;r<d;r+=1)s+=i[r]+\" \"+e+\", \";o[n]=s.slice(0,-2)}return o},u=function(t){var i={};i[t]=\"\";return[\"webkit\",\"Moz\",\"o\"].forEach(function(e){i[e+t.charAt(0).toUpperCase()+t.slice(1)]=\"\"}),i},f=function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t},y=function(t,i){if(t.length)for(var e=0,o=t.length;e<o;e+=1)i(t[e]);else i(t)},m=!!(\"ontouchstart\"in window),v=!!window.PointerEvent,g=!!window.MSPointerEvent,b={start:\"mousedown\",move:\"mousemove\",end:\"mouseup\"},x={};function O(){}v?o={start:\"pointerdown\",move:\"pointermove\",end:\"pointerup, pointercancel\"}:g?o={start:\"MSPointerDown\",move:\"MSPointerMove\",end:\"MSPointerUp\"}:m?(o={start:\"touchstart\",move:\"touchmove\",end:\"touchend, touchcancel\"},x=b):o=b,O.prototype.on=function(t,i){var e,o=t.split(/[ ,]+/g);this._handlers_=this._handlers_||{};for(var n=0;n<o.length;n+=1)e=o[n],this._handlers_[e]=this._handlers_[e]||[],this._handlers_[e].push(i);return this},O.prototype.off=function(t,i){return this._handlers_=this._handlers_||{},void 0===t?this._handlers_={}:void 0===i?this._handlers_[t]=null:this._handlers_[t]&&this._handlers_[t].indexOf(i)>=0&&this._handlers_[t].splice(this._handlers_[t].indexOf(i),1),this},O.prototype.trigger=function(t,i){var e,o=this,n=t.split(/[ ,]+/g);o._handlers_=o._handlers_||{};for(var s=0;s<n.length;s+=1)e=n[s],o._handlers_[e]&&o._handlers_[e].length&&o._handlers_[e].forEach(function(t){t.call(o,{type:e,target:o},i)})},O.prototype.config=function(t){this.options=this.defaults||{},t&&(this.options=function(t,i){var e={};for(var o in t)t.hasOwnProperty(o)&&i.hasOwnProperty(o)?e[o]=i[o]:t.hasOwnProperty(o)&&(e[o]=t[o]);return e}(this.options,t))},O.prototype.bindEvt=function(t,i){var e=this;return e._domHandlers_=e._domHandlers_||{},e._domHandlers_[i]=function(){\"function\"==typeof e[\"on\"+i]?e[\"on\"+i].apply(e,arguments):console.warn('[WARNING] : Missing \"on'+i+'\" handler.')},d(t,o[i],e._domHandlers_[i]),x[i]&&d(t,x[i],e._domHandlers_[i]),e},O.prototype.unbindEvt=function(t,i){return this._domHandlers_=this._domHandlers_||{},a(t,o[i],this._domHandlers_[i]),x[i]&&a(t,x[i],this._domHandlers_[i]),delete this._domHandlers_[i],this};var _=O;function w(t,i){return this.identifier=i.identifier,this.position=i.position,this.frontPosition=i.frontPosition,this.collection=t,this.defaults={size:100,threshold:.1,color:\"white\",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:\"dynamic\",zone:document.body,lockX:!1,lockY:!1,shape:\"circle\"},this.config(i),\"dynamic\"===this.options.mode&&(this.options.restOpacity=0),this.id=w.id,w.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}w.prototype=new _,w.constructor=w,w.id=0,w.prototype.buildEl=function(t){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement(\"div\"),this.ui.back=document.createElement(\"div\"),this.ui.front=document.createElement(\"div\"),this.ui.el.className=\"nipple collection_\"+this.collection.id,this.ui.back.className=\"back\",this.ui.front.className=\"front\",this.ui.el.setAttribute(\"id\",\"nipple_\"+this.collection.id+\"_\"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)},w.prototype.stylize=function(){if(this.options.dataOnly)return this;var t=this.options.fadeTime+\"ms\",i=function(t,i){var e=u(t);for(var o in e)e.hasOwnProperty(o)&&(e[o]=i);return e}(\"borderRadius\",\"50%\"),e=l(\"transition\",\"opacity\",t),o={};return o.el={position:\"absolute\",opacity:this.options.restOpacity,display:\"block\",zIndex:999},o.back={position:\"absolute\",display:\"block\",width:this.options.size+\"px\",height:this.options.size+\"px\",marginLeft:-this.options.size/2+\"px\",marginTop:-this.options.size/2+\"px\",background:this.options.color,opacity:\".5\"},o.front={width:this.options.size/2+\"px\",height:this.options.size/2+\"px\",position:\"absolute\",display:\"block\",marginLeft:-this.options.size/4+\"px\",marginTop:-this.options.size/4+\"px\",background:this.options.color,opacity:\".5\"},f(o.el,e),\"circle\"===this.options.shape&&f(o.back,i),f(o.front,i),this.applyStyles(o),this},w.prototype.applyStyles=function(t){for(var i in this.ui)if(this.ui.hasOwnProperty(i))for(var e in t[i])this.ui[i].style[e]=t[i][e];return this},w.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)},w.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)},w.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger(\"destroyed\",this.instance),this.removeFromDom(),this.off()},w.prototype.show=function(t){var i=this;return i.options.dataOnly?i:(clearTimeout(i.removeTimeout),clearTimeout(i.showTimeout),clearTimeout(i.restTimeout),i.addToDom(),i.restCallback(),setTimeout(function(){i.ui.el.style.opacity=1},0),i.showTimeout=setTimeout(function(){i.trigger(\"shown\",i.instance),\"function\"==typeof t&&t.call(this)},i.options.fadeTime),i)},w.prototype.hide=function(t){var i=this;return i.options.dataOnly?i:(i.ui.el.style.opacity=i.options.restOpacity,clearTimeout(i.removeTimeout),clearTimeout(i.showTimeout),clearTimeout(i.restTimeout),i.removeTimeout=setTimeout(function(){var e=\"dynamic\"===i.options.mode?\"none\":\"block\";i.ui.el.style.display=e,\"function\"==typeof t&&t.call(i),i.trigger(\"hidden\",i.instance)},i.options.fadeTime),i.options.restJoystick&&i.setPosition(t,{x:0,y:0}),i)},w.prototype.setPosition=function(t,i){var e=this;e.frontPosition={x:i.x,y:i.y};var o=e.options.fadeTime+\"ms\",n={};n.front=l(\"transition\",[\"top\",\"left\"],o);var s={front:{}};s.front={left:e.frontPosition.x+\"px\",top:e.frontPosition.y+\"px\"},e.applyStyles(n),e.applyStyles(s),e.restTimeout=setTimeout(function(){\"function\"==typeof t&&t.call(e),e.restCallback()},e.options.fadeTime)},w.prototype.restCallback=function(){var t={};t.front=l(\"transition\",\"none\",\"\"),this.applyStyles(t),this.trigger(\"rested\",this.instance)},w.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},w.prototype.computeDirection=function(t){var i,e,o,n=t.angle.radian,s=Math.PI/4,r=Math.PI/2;if(n>s&&n<3*s&&!t.lockX?i=\"up\":n>-s&&n<=s&&!t.lockY?i=\"left\":n>3*-s&&n<=-s&&!t.lockX?i=\"down\":t.lockY||(i=\"right\"),t.lockY||(e=n>-r&&n<r?\"left\":\"right\"),t.lockX||(o=n>0?\"up\":\"down\"),t.force>this.options.threshold){var d,a={};for(d in this.direction)this.direction.hasOwnProperty(d)&&(a[d]=this.direction[d]);var p={};for(d in this.direction={x:e,y:o,angle:i},t.direction=this.direction,a)a[d]===this.direction[d]&&(p[d]=!0);if(p.x&&p.y&&p.angle)return t;p.x&&p.y||this.trigger(\"plain\",t),p.x||this.trigger(\"plain:\"+e,t),p.y||this.trigger(\"plain:\"+o,t),p.angle||this.trigger(\"dir dir:\"+i,t)}else this.resetDirection();return t};var T=w;function k(t,i){return this.nipples=[],this.idles=[],this.actives=[],this.ids=[],this.pressureIntervals={},this.manager=t,this.id=k.id,k.id+=1,this.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:\"dynamic\",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:\"white\",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1,shape:\"circle\",dynamicPage:!1},this.config(i),\"static\"!==this.options.mode&&\"semi\"!==this.options.mode||(this.options.multitouch=!1),this.options.multitouch||(this.options.maxNumberOfNipples=1),this.updateBox(),this.prepareNipples(),this.bindings(),this.begin(),this.nipples}k.prototype=new _,k.constructor=k,k.id=0,k.prototype.prepareNipples=function(){var t=this.nipples;t.on=this.on.bind(this),t.off=this.off.bind(this),t.options=this.options,t.destroy=this.destroy.bind(this),t.ids=this.ids,t.id=this.id,t.processOnMove=this.processOnMove.bind(this),t.processOnEnd=this.processOnEnd.bind(this),t.get=function(i){if(void 0===i)return t[0];for(var e=0,o=t.length;e<o;e+=1)if(t[e].identifier===i)return t[e];return!1}},k.prototype.bindings=function(){this.bindEvt(this.options.zone,\"start\"),this.options.zone.style.touchAction=\"none\",this.options.zone.style.msTouchAction=\"none\"},k.prototype.begin=function(){var t=this.options;if(\"static\"===t.mode){var i=this.createNipple(t.position,this.manager.getIdentifier());i.add(),this.idles.push(i)}},k.prototype.createNipple=function(t,i){var e=c(),o={},n=this.options;if(t.x&&t.y)o={x:t.x-(e.x+this.box.left),y:t.y-(e.y+this.box.top)};else if(t.top||t.right||t.bottom||t.left){var s=document.createElement(\"DIV\");s.style.display=\"hidden\",s.style.top=t.top,s.style.right=t.right,s.style.bottom=t.bottom,s.style.left=t.left,s.style.position=\"absolute\",n.zone.appendChild(s);var r=s.getBoundingClientRect();n.zone.removeChild(s),o=t,t={x:r.left+e.x,y:r.top+e.y}}var d=new T(this,{color:n.color,size:n.size,threshold:n.threshold,fadeTime:n.fadeTime,dataOnly:n.dataOnly,restJoystick:n.restJoystick,restOpacity:n.restOpacity,mode:n.mode,identifier:i,position:t,zone:n.zone,frontPosition:{x:0,y:0},shape:n.shape});return n.dataOnly||(h(d.ui.el,o),h(d.ui.front,d.frontPosition)),this.nipples.push(d),this.trigger(\"added \"+d.identifier+\":added\",d),this.manager.trigger(\"added \"+d.identifier+\":added\",d),this.bindNipple(d),d},k.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},k.prototype.bindNipple=function(t){var i,e=this,o=function(t,o){i=t.type+\" \"+o.id+\":\"+t.type,e.trigger(i,o)};t.on(\"destroyed\",e.onDestroyed.bind(e)),t.on(\"shown hidden rested dir plain\",o),t.on(\"dir:up dir:right dir:down dir:left\",o),t.on(\"plain:up plain:right plain:down plain:left\",o)},k.prototype.pressureFn=function(t,i,e){var o=this,n=0;clearInterval(o.pressureIntervals[e]),o.pressureIntervals[e]=setInterval(function(){var e=t.force||t.pressure||t.webkitForce||0;e!==n&&(i.trigger(\"pressure\",e),o.trigger(\"pressure \"+i.identifier+\":pressure\",e),n=e)}.bind(o),100)},k.prototype.onstart=function(t){var i=this,e=i.options,o=t;t=p(t),i.updateBox();return y(t,function(n){i.actives.length<e.maxNumberOfNipples?i.processOnStart(n):o.type.match(/^touch/)&&(Object.keys(i.manager.ids).forEach(function(e){if(Object.values(o.touches).findIndex(function(t){return t.identifier===e})<0){var n=[t[0]];n.identifier=e,i.processOnEnd(n)}}),i.actives.length<e.maxNumberOfNipples&&i.processOnStart(n))}),i.manager.bindDocument(),!1},k.prototype.processOnStart=function(t){var i,e=this,o=e.options,s=e.manager.getIdentifier(t),r=t.force||t.pressure||t.webkitForce||0,d={x:t.pageX,y:t.pageY},a=e.getOrCreate(s,d);a.identifier!==s&&e.manager.removeIdentifier(a.identifier),a.identifier=s;var p=function(i){i.trigger(\"start\",i),e.trigger(\"start \"+i.id+\":start\",i),i.show(),r>0&&e.pressureFn(t,i,i.identifier),e.processOnMove(t)};if((i=e.idles.indexOf(a))>=0&&e.idles.splice(i,1),e.actives.push(a),e.ids.push(a.identifier),\"semi\"!==o.mode)p(a);else{if(!(n(d,a.position)<=o.catchDistance))return a.destroy(),void e.processOnStart(t);p(a)}return a},k.prototype.getOrCreate=function(t,i){var e,o=this.options;return/(semi|static)/.test(o.mode)?(e=this.idles[0])?(this.idles.splice(0,1),e):\"semi\"===o.mode?this.createNipple(i,t):(console.warn(\"Coudln't find the needed nipple.\"),!1):e=this.createNipple(i,t)},k.prototype.processOnMove=function(t){var i=this.options,e=this.manager.getIdentifier(t),o=this.nipples.get(e);if(function(t){return isNaN(t.buttons)?0!==t.pressure:0!==t.buttons}(t)){if(!o)return console.error(\"Found zombie joystick with ID \"+e),void this.manager.removeIdentifier(e);if(i.dynamicPage){var d=c();p=o.el.getBoundingClientRect(),o.position={x:d.x+p.left,y:d.y+p.top}}o.identifier=e;var a=o.options.size/2,p={x:t.pageX,y:t.pageY};i.lockX&&(p.y=o.position.y),i.lockY&&(p.x=o.position.x);var l,u,f,y,m,v,g,b,x=n(p,o.position),O=(l=p,u=o.position,f=u.x-l.x,y=u.y-l.y,r(Math.atan2(y,f))),_=s(O),w=x/a,T={distance:x,position:p};\"circle\"===o.options.shape?(x=Math.min(x,a),m=o.position,v=x,b={x:0,y:0},g=s(g=O),b.x=m.x-v*Math.cos(g),b.y=m.y-v*Math.sin(g),p=b):(p=function(t,i,e){return{x:Math.min(Math.max(t.x,i.x-e),i.x+e),y:Math.min(Math.max(t.y,i.y-e),i.y+e)}}(p,o.position,a),x=n(p,o.position));var k=p.x-o.position.x,P=p.y-o.position.y;o.frontPosition={x:k,y:P},i.dataOnly||h(o.ui.front,o.frontPosition);var E={identifier:o.identifier,position:p,force:w,pressure:t.force||t.pressure||t.webkitForce||0,distance:x,angle:{radian:_,degree:O},vector:{x:k/a,y:-P/a},raw:T,instance:o,lockX:i.lockX,lockY:i.lockY};(E=o.computeDirection(E)).angle={radian:s(180-O),degree:180-O},o.trigger(\"move\",E),this.trigger(\"move \"+o.id+\":move\",E)}else this.processOnEnd(t)},k.prototype.processOnEnd=function(t){var i=this,e=i.options,o=i.manager.getIdentifier(t),n=i.nipples.get(o),s=i.manager.removeIdentifier(n.identifier);n&&(e.dataOnly||n.hide(function(){\"dynamic\"===e.mode&&(n.trigger(\"removed\",n),i.trigger(\"removed \"+n.id+\":removed\",n),i.manager.trigger(\"removed \"+n.id+\":removed\",n),n.destroy())}),clearInterval(i.pressureIntervals[n.identifier]),n.resetDirection(),n.trigger(\"end\",n),i.trigger(\"end \"+n.id+\":end\",n),i.ids.indexOf(n.identifier)>=0&&i.ids.splice(i.ids.indexOf(n.identifier),1),i.actives.indexOf(n)>=0&&i.actives.splice(i.actives.indexOf(n),1),/(semi|static)/.test(e.mode)?i.idles.push(n):i.nipples.indexOf(n)>=0&&i.nipples.splice(i.nipples.indexOf(n),1),i.manager.unbindDocument(),/(semi|static)/.test(e.mode)&&(i.manager.ids[s.id]=s.identifier))},k.prototype.onDestroyed=function(t,i){this.nipples.indexOf(i)>=0&&this.nipples.splice(this.nipples.indexOf(i),1),this.actives.indexOf(i)>=0&&this.actives.splice(this.actives.indexOf(i),1),this.idles.indexOf(i)>=0&&this.idles.splice(this.idles.indexOf(i),1),this.ids.indexOf(i.identifier)>=0&&this.ids.splice(this.ids.indexOf(i.identifier),1),this.manager.removeIdentifier(i.identifier),this.manager.unbindDocument()},k.prototype.destroy=function(){for(var t in this.unbindEvt(this.options.zone,\"start\"),this.nipples.forEach(function(t){t.destroy()}),this.pressureIntervals)this.pressureIntervals.hasOwnProperty(t)&&clearInterval(this.pressureIntervals[t]);this.trigger(\"destroyed\",this.nipples),this.manager.unbindDocument(),this.off()};var P=k;function E(t){var i,e=this;return e.ids={},e.index=0,e.collections=[],e.config(t),e.prepareCollections(),d(window,\"resize\",function(t){clearTimeout(i),i=setTimeout(function(){var t,i=c();e.collections.forEach(function(e){e.forEach(function(e){t=e.el.getBoundingClientRect(),e.position={x:i.x+t.left,y:i.y+t.top}})})},100)}),e.collections}E.prototype=new _,E.constructor=E,E.prototype.prepareCollections=function(){var t=this;t.collections.create=t.create.bind(t),t.collections.on=t.on.bind(t),t.collections.off=t.off.bind(t),t.collections.destroy=t.destroy.bind(t),t.collections.get=function(i){var e;return t.collections.every(function(t){return!(e=t.get(i))}),e}},E.prototype.create=function(t){return this.createCollection(t)},E.prototype.createCollection=function(t){var i=new P(this,t);return this.bindCollection(i),this.collections.push(i),i},E.prototype.bindCollection=function(t){var i,e=this,o=function(t,o){i=t.type+\" \"+o.id+\":\"+t.type,e.trigger(i,o)};t.on(\"destroyed\",e.onDestroyed.bind(e)),t.on(\"shown hidden rested dir plain\",o),t.on(\"dir:up dir:right dir:down dir:left\",o),t.on(\"plain:up plain:right plain:down plain:left\",o)},E.prototype.bindDocument=function(){this.binded||(this.bindEvt(document,\"move\").bindEvt(document,\"end\"),this.binded=!0)},E.prototype.unbindDocument=function(t){Object.keys(this.ids).length&&!0!==t||(this.unbindEvt(document,\"move\").unbindEvt(document,\"end\"),this.binded=!1)},E.prototype.getIdentifier=function(t){var i;return t?void 0===(i=void 0===t.identifier?t.pointerId:t.identifier)&&(i=this.latest||0):i=this.index,void 0===this.ids[i]&&(this.ids[i]=this.index,this.index+=1),this.latest=i,this.ids[i]},E.prototype.removeIdentifier=function(t){var i={};for(var e in this.ids)if(this.ids[e]===t){i.id=e,i.identifier=this.ids[e],delete this.ids[e];break}return i},E.prototype.onmove=function(t){return this.onAny(\"move\",t),!1},E.prototype.onend=function(t){return this.onAny(\"end\",t),!1},E.prototype.oncancel=function(t){return this.onAny(\"end\",t),!1},E.prototype.onAny=function(t,i){var e,o=this,n=\"processOn\"+t.charAt(0).toUpperCase()+t.slice(1);i=p(i);return y(i,function(t){e=o.getIdentifier(t),y(o.collections,function(t,i,e){e.ids.indexOf(i)>=0&&(e[n](t),t._found_=!0)}.bind(null,t,e)),t._found_||o.removeIdentifier(e)}),!1},E.prototype.destroy=function(){this.unbindDocument(!0),this.ids={},this.index=0,this.collections.forEach(function(t){t.destroy()}),this.off()},E.prototype.onDestroyed=function(t,i){if(this.collections.indexOf(i)<0)return!1;this.collections.splice(this.collections.indexOf(i),1)};var I=new E;i.default={create:function(t){return I.create(t)},factory:I}}]).default});"]},"metadata":{},"sourceType":"script"}